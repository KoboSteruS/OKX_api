{"openapi":"3.1.0","info":{"title":"OKX API Helper","description":"API для генерации подписей и временных меток для OKX API","version":"1.0.0"},"paths":{"/api/v1/health":{"get":{"tags":["OKX API"],"summary":"Проверка здоровья сервиса","description":"Проверяет настройки приложения","operationId":"health_check_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/market-data":{"post":{"tags":["OKX API"],"summary":"Получить упрощенные рыночные данные","description":"Получает основные рыночные данные: тикер, стакан (3 уровня), последние 10 свечей","operationId":"get_market_data_api_v1_market_data_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketDataRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketDataResponse"}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["OKX API"],"summary":"Получить упрощенные рыночные данные (GET)","description":"Получает основные рыночные данные с параметрами из query string: тикер, стакан (3 уровня), последние 10 свечей","operationId":"get_market_data_get_api_v1_market_data_get","parameters":[{"name":"inst_id","in":"query","required":false,"schema":{"type":"string","description":"Инструмент для получения данных","default":"BTC-USDT","title":"Inst Id"},"description":"Инструмент для получения данных"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketDataResponse"}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tickers":{"post":{"tags":["OKX API"],"summary":"Получить данные всех тикеров","description":"Получает данные по всем тикерам указанного типа","operationId":"get_tickers_data_api_v1_tickers_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TickersRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["OKX API"],"summary":"Получить данные всех тикеров (GET)","description":"Получает данные по всем тикерам с параметрами из query string","operationId":"get_tickers_data_get_api_v1_tickers_get","parameters":[{"name":"inst_type","in":"query","required":false,"schema":{"type":"string","description":"Тип инструмента","default":"SPOT","title":"Inst Type"},"description":"Тип инструмента"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies":{"get":{"tags":["OKX API"],"summary":"Получить информацию о валютах","description":"Получает информацию о всех валютах и их свойствах","operationId":"get_currencies_data_api_v1_currencies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrenciesResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/v1/test-connection":{"get":{"tags":["OKX API"],"summary":"Тестирование соединения с OKX API","description":"Проверяет соединение с OKX API и диагностирует проблемы","operationId":"test_connection_api_v1_test_connection_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/v1/buy":{"post":{"tags":["OKX API"],"summary":"Покупка BTC","description":"Покупает BTC на указанную сумму USDT","operationId":"buy_btc_api_v1_buy_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuyRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuyResponse"}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["OKX API"],"summary":"Покупка BTC (GET)","description":"Покупает BTC с параметрами из query string","operationId":"buy_btc_get_api_v1_buy_get","parameters":[{"name":"buy_amount","in":"query","required":false,"schema":{"type":"number","exclusiveMinimum":0.0,"description":"Сумма в USDT для покупки BTC","default":10.0,"title":"Buy Amount"},"description":"Сумма в USDT для покупки BTC"},{"name":"inst_id","in":"query","required":false,"schema":{"type":"string","description":"Инструмент для покупки","default":"BTC-USDT","title":"Inst Id"},"description":"Инструмент для покупки"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuyResponse"}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sell":{"post":{"tags":["OKX API"],"summary":"Продажа BTC","description":"Продает BTC за USDT","operationId":"sell_btc_api_v1_sell_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SellRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SellResponse"}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["OKX API"],"summary":"Продажа BTC (GET)","description":"Продает BTC с параметрами из query string","operationId":"sell_btc_get_api_v1_sell_get","parameters":[{"name":"sell_all","in":"query","required":false,"schema":{"type":"boolean","description":"Продать весь доступный BTC","default":true,"title":"Sell All"},"description":"Продать весь доступный BTC"},{"name":"sell_amount","in":"query","required":false,"schema":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"description":"Количество BTC для продажи (если sell_all=False)","title":"Sell Amount"},"description":"Количество BTC для продажи (если sell_all=False)"},{"name":"inst_id","in":"query","required":false,"schema":{"type":"string","description":"Инструмент для продажи","default":"BTC-USDT","title":"Inst Id"},"description":"Инструмент для продажи"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SellResponse"}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Internal Server Error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/balance":{"get":{"tags":["OKX API"],"summary":"Получить балансы","description":"Получает балансы всех валют","operationId":"get_balances_api_v1_balance_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BalanceResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/":{"get":{"summary":"Главная страница","description":"Главная страница API\n\nСодержит информацию о доступных эндпоинтах","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"BalanceResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Статус получения баланса","example":true},"balances":{"type":"object","title":"Balances","description":"Балансы по валютам","example":{"BTC":0.001234,"USDT":100.5}},"message":{"type":"string","title":"Message","description":"Сообщение о результате операции","example":"Баланс успешно получен"}},"type":"object","required":["success","balances","message"],"title":"BalanceResponse","description":"Схема ответа с балансом"},"BuyRequest":{"properties":{"buy_amount":{"type":"number","exclusiveMinimum":0.0,"title":"Buy Amount","description":"Сумма в USDT для покупки BTC","default":10.0,"example":10.0},"inst_id":{"type":"string","title":"Inst Id","description":"Инструмент для покупки","default":"BTC-USDT","example":"BTC-USDT"}},"type":"object","title":"BuyRequest","description":"Схема запроса для покупки BTC"},"BuyResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Статус выполнения покупки","example":true},"buy_amount":{"type":"number","title":"Buy Amount","description":"Сумма в USDT, потраченная на покупку BTC","example":10.0},"buy_order":{"type":"object","title":"Buy Order","description":"Результат покупки BTC","example":{"code":"0","data":[{"ordId":"123456789"}]}},"btc_acquired":{"type":"number","title":"Btc Acquired","description":"Количество BTC, которое было куплено","example":0.001234},"message":{"type":"string","title":"Message","description":"Сообщение о результате операции","example":"BTC успешно куплен на 10.0 USDT"}},"type":"object","required":["success","buy_amount","buy_order","btc_acquired","message"],"title":"BuyResponse","description":"Схема ответа операции покупки"},"CurrenciesResponse":{"properties":{"currencies":{"type":"object","title":"Currencies","description":"Информация о валютах","example":{"code":"0","data":[{"ccy":"BTC","minFee":"0.0001","name":"Bitcoin"}]}}},"type":"object","required":["currencies"],"title":"CurrenciesResponse","description":"Схема ответа с информацией о валютах"},"ErrorResponse":{"properties":{"error":{"type":"string","title":"Error","description":"Описание ошибки","example":"API_SECRET не настроен"},"detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detail","description":"Детальная информация об ошибке","example":"Проверьте настройки в .env файле"}},"type":"object","required":["error"],"title":"ErrorResponse","description":"Схема ответа с ошибкой"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MarketDataRequest":{"properties":{"inst_id":{"type":"string","title":"Inst Id","description":"Инструмент для получения данных","default":"BTC-USDT","example":"BTC-USDT"}},"type":"object","title":"MarketDataRequest","description":"Схема запроса для получения рыночных данных"},"MarketDataResponse":{"properties":{"inst_id":{"type":"string","title":"Inst Id","description":"Инструмент","example":"BTC-USDT"},"ticker":{"type":"object","title":"Ticker","description":"Основные данные тикера","example":{"askPx":"50001","bidPx":"50000","instId":"BTC-USDT","last":"50000"}},"order_book":{"type":"object","title":"Order Book","description":"Стакан ордеров (3 уровня)","example":{"asks":[["50001","1.0"]],"bids":[["50000","1.0"]],"instId":"BTC-USDT"}},"candles":{"items":{},"type":"array","title":"Candles","description":"Последние 10 свечей (5-минутные интервалы)","example":[["1703123456","50000","50001","50000","50000","100"]]}},"type":"object","required":["inst_id","ticker","order_book","candles"],"title":"MarketDataResponse","description":"Схема ответа с упрощенными рыночными данными"},"SellRequest":{"properties":{"sell_all":{"type":"boolean","title":"Sell All","description":"Продать весь доступный BTC","default":true,"example":true},"sell_amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Sell Amount","description":"Количество BTC для продажи (если sell_all=False)","example":0.001},"inst_id":{"type":"string","title":"Inst Id","description":"Инструмент для продажи","default":"BTC-USDT","example":"BTC-USDT"}},"type":"object","title":"SellRequest","description":"Схема запроса для продажи BTC"},"SellResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Статус выполнения продажи","example":true},"sell_order":{"type":"object","title":"Sell Order","description":"Результат продажи BTC","example":{"code":"0","data":[{"ordId":"987654321"}]}},"btc_sold":{"type":"number","title":"Btc Sold","description":"Количество BTC, которое было продано","example":0.001234},"usdt_received":{"type":"number","title":"Usdt Received","description":"Количество USDT, полученное за продажу","example":10.5},"message":{"type":"string","title":"Message","description":"Сообщение о результате операции","example":"BTC успешно продан за 10.5 USDT"}},"type":"object","required":["success","sell_order","btc_sold","usdt_received","message"],"title":"SellResponse","description":"Схема ответа операции продажи"},"TickersRequest":{"properties":{"inst_type":{"type":"string","title":"Inst Type","description":"Тип инструмента (SPOT, SWAP, FUTURES, etc.)","default":"SPOT","example":"SPOT"}},"type":"object","title":"TickersRequest","description":"Схема запроса для получения данных тикеров"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}